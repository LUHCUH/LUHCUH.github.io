---
title: '[HAOI2008] 硬币购物'
tags:
  - 洛谷
date: 2024-11-14 18:44:43
---
### [P1450 [HAOI2008] 硬币购物](https://www.luogu.com.cn/problem/P1450)

- 题目简述：你有 $4$ 中货币，面值分别是 $c_1,c_2,c_3,c_4$。 $n$ 组询问，每次询问 $s,d_1,d_2,d_3,d_4$ 表示手里有 $d_i$ 个 $c_i$ 面值的货币，求有多少种和为 $s$ 的付款方式。
- 首选对题目进行转化，不定方程非负整数解计数：$\sum\limits_{i=1}^4a_ic_i=s$，有限制 $a_i\le d_i$
- 依据容斥原理，考虑计算无限制解的个数 减 不合法数。
- 无限制解的个数背包显然，不合法数有限制 $a_i>d_i$，**此时不用重新计算 dp**，类似组合数插板法的思想，$dp_{s-(d_i+1)c_i}$ 就是答案
- [参考实现](https://www.luogu.com.cn/record/188449415)